<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="google-site-verification" content="IDYUPnBNhdnU8o9LRNKZ1RSt14tIxTI0rLeMrBtswXw"><title> Redux App - BookList · Fish</title><meta name="description" content="Redux App - BookList - Fish"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/posts/favicon.png"><link rel="stylesheet" href="/posts/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://icyfish.github.io/posts/atom.xml" title="Fish"><meta name="generator" content="Hexo 7.0.0-rc1"></head><body><div class="wrap"><header><a href="/posts/" class="logo-link"><img src="/posts/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/posts/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/posts/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/posts/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="http://twitter.com/icyfish_" target="_blank" class="nav-list-link">TWITTER</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Redux App - BookList</h1><div class="post-info">Apr 16, 2017</div><div class="post-content"><p>通过创建一个书籍列表app, 学习Redux的一些基础概念以及主要API的运用, 下面是该app的图示: </p>
<a id="more"></a>
<h2 id="简单介绍"><a href="#简单介绍" class="headerlink" title="简单介绍"></a>简单介绍</h2><p>首次渲染的app页面: </p>
<p><img src="/posts/images/book-init.jpg" alt="book-init"></p>
<p>左边是书籍列表, 右边首次渲染的文字为提示词(选择某本书显示该本书相关信息), 功能如提示词所示, 即点击某本书后在右侧会显示该书的详细信息, 以下是图例: </p>
<p><img src="/posts/images/book-js.jpg" alt="book-js"></p>
<p><img src="/posts/images/book-hp.jpg" alt="book-hp"></p>
<h2 id="从视图层-数据层分析"><a href="#从视图层-数据层分析" class="headerlink" title="从视图层, 数据层分析"></a>从视图层, 数据层分析</h2><p><img src="/posts/images/book-data-view.jpg" alt="book-data-view"></p>
<p>从上图可以看出, 从数据方面看, 该app中包含两种类型的数据, 一是左边栏中一系列的书籍(hard data), 二是当前选中的书籍(meta level properties).</p>
<p>从视图方面看, 该app的视图包含3部分的内容, List View是数据列表, List Item是列表中的单本书, Detail View是当前选中书籍的详细信息.</p>
<p>在创建app时, 我们要将app的视图与数据分开, redux负责数据层的内容, 存储state; react负责视图层的内容, 将state转化为呈现在页面上的view.</p>
<h2 id="组织结构"><a href="#组织结构" class="headerlink" title="组织结构"></a>组织结构</h2><p>Redux脚手架: <a href="https://github.com/StephenGrider/ReduxSimpleStarter" target="_blank" rel="noopener">Redux Boilerplate</a></p>
<p><strong>文件结构</strong></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">book_list/</span><br><span class="line">  README.md</span><br><span class="line">  node_modules/</span><br><span class="line">  package.json</span><br><span class="line">  .gitignore</span><br><span class="line">  .babelrc</span><br><span class="line">  index.html</span><br><span class="line">  webpack<span class="selector-class">.config</span>.js</span><br><span class="line">  src/</span><br><span class="line">    actions/</span><br><span class="line">      index.js</span><br><span class="line">    components/</span><br><span class="line">      app.js</span><br><span class="line">    containers/</span><br><span class="line">      book_detail.js</span><br><span class="line">      book_list.js</span><br><span class="line">    reducers/</span><br><span class="line">      index.js</span><br><span class="line">      reducer_active_book.js</span><br><span class="line">      reducer_books.js</span><br><span class="line">    index.js</span><br><span class="line">  style/</span><br><span class="line">    style.css</span><br></pre></td></tr></table></figure>
<p>从文件结构中可以看到, 应用最重要的几个部分为reducers, actions, components和container. 下面对这几个部分进行详细说明. </p>
<h3 id="reducer和action"><a href="#reducer和action" class="headerlink" title="reducer和action"></a>reducer和action</h3><h4 id="reducer"><a href="#reducer" class="headerlink" title="reducer"></a>reducer</h4><p>reducer是返回应用state的函数, 因为大多数redux应用包含多个state, 因此包含多个不同的reducer. </p>
<p>在书籍应用(book_list)中, 有两类数据, 因此应包含两个reducer, 一个负责创建全部书籍列表, 一个负责创建当前选中的书籍.</p>
<p><img src="/posts/images/book-reducers.jpg" alt="book-reducers"></p>
<p>如上图所示, 创建<code>BooksReducer</code>以及<code>ActiveBook</code>, reducer返回state的值, state的key(即图中的books和activeBook)可以为任何值, 与reducer无关, 与reducer相关的只有state的值. <code>BooksReducer</code>返回所有书籍列表数据, 具体内容见下:</p>
<p><code>reducer_books.js</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [</span><br><span class="line">    &#123; <span class="attr">title</span>: <span class="string">'Javascript: The Good Parts'</span>, <span class="attr">pages</span>: <span class="number">101</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">title</span>: <span class="string">'Harry Potter'</span>, <span class="attr">pages</span>: <span class="number">39</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">title</span>: <span class="string">'The Dark Tower'</span>, <span class="attr">pages</span>: <span class="number">85</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">title</span>: <span class="string">'Eloquent Ruby'</span>, <span class="attr">pages</span>: <span class="number">1</span> &#125;</span><br><span class="line">  ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>ActiveBook</code>的内容会根据用户操作时刻变化, reducer接受redux分配的action后根据action类型返回与之相关的state.</p>
<p><code>reducer_active_book.js</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span>(<span class="params">state = null, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span>(action.type) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'BOOK_SELECTED'</span>:</span><br><span class="line">    <span class="keyword">return</span> action.payload;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> state;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>最后再使用redux库的combineReducers方法将所有reducer整合起来. 把reducer对象传入combineReducers后, redux根据传入的所有reducer创建整个app的状态(state).</p>
<p><code>reducers/index.js</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; combineReducers &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"><span class="keyword">import</span> BooksReducer <span class="keyword">from</span> <span class="string">'./reducer_books'</span>;</span><br><span class="line"><span class="keyword">import</span> ActiveBook <span class="keyword">from</span> <span class="string">'./reducer_active_book'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> rootReducer = combineReducers(&#123;</span><br><span class="line">  books: BooksReducer,</span><br><span class="line">  activeBook: ActiveBook</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> rootReducer;</span><br></pre></td></tr></table></figure></p>
<h4 id="action"><a href="#action" class="headerlink" title="action"></a>action</h4><p>上面提到, <code>ActiveBook</code>这个reducer返回的state值会根据action.type变化, 此app比较简单, 只需要一个action来处理用户操作. </p>
<p><code>actions/index.js</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">selectBook</span>(<span class="params">book</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    type: <span class="string">'BOOK_SELECTED'</span>,</span><br><span class="line">    payload: book</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>selectBook()</code>是action creator, 相关的state发生改变后会调用action creator, action creator返回action, action是一个JavaScript对象, 在这个对象中必须声明type属性, type描述用户操作的具体内容, 此时是<code>BOOK_SELECTED</code>, 除了type属性, 还有一个payload属性, payload属性的值为与该action相关的数据值, 因为这个action选择了某一本书, 那么所需要的相关数据就是那本书的详细信息, payload的值就是所选取的书的信息. type和payload属性中, type必须声明, 但payload并非必需.</p>
<h3 id="container和component"><a href="#container和component" class="headerlink" title="container和component"></a>container和component</h3><p>在组织组件时, 一般将组件分为container和component, 因此组织文件结构时, 也创建两个文件夹, 分别为containers和components. </p>
<p><img src="/posts/images/book-component.jpg" alt="book-component"></p>
<h4 id="容器组件-container"><a href="#容器组件-container" class="headerlink" title="容器组件(container)"></a>容器组件(container)</h4><p>container是利用redux store中数据的组件, 也被叫做smart component. BookList和BookDetail都是根据state的变化而变化, 因此这两个组件应为container.</p>
<p><code>book-detail.js</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookDetail</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.props.book) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Select a book to get started.<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h3&gt;Details <span class="keyword">for</span>:&lt;<span class="regexp">/h3&gt;</span></span><br><span class="line"><span class="regexp">        &lt;div&gt;Title: &#123;this.props.book.title&#125;&lt;/</span>div&gt;</span><br><span class="line">        &lt;div&gt;Pages: &#123;<span class="keyword">this</span>.props.book.pages&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapStateToProps</span>(<span class="params">state</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    book: state.activeBook</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps)(BookDetail);</span><br></pre></td></tr></table></figure></p>
<p>从以上代码中可以看到, book-detail从react-redux库中引入了connect方法, 因为在react和redux搭配使用时, react无法直接获取redux所负责的应用state, 因此需要react-redux的帮助使两个库能更好得配合使用. mapStateToProps将来自redux的state转换为当前component的props, connect将component提升为container.</p>
<p><strong>关于connect:</strong></p>
<p>只要应用的state产生变化(用户事件, ajax请求…):</p>
<ol>
<li>container会立即rerender</li>
<li>组件的props也会立即变化</li>
</ol>
<p><code>book-list.js</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; selectBook &#125; <span class="keyword">from</span> <span class="string">'../actions/index'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; bindActionCreators &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  renderList() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.props.books.map(<span class="function">(<span class="params">book</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;li</span><br><span class="line">          key=&#123;book.title&#125;</span><br><span class="line">          onClick=&#123;() =&gt; <span class="keyword">this</span>.props.selectBook(book)&#125;</span><br><span class="line">          className=<span class="string">"list-group-item"</span>&gt;</span><br><span class="line">          &#123;book.title&#125;</span><br><span class="line">        &lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">      );</span></span><br><span class="line"><span class="regexp">    &#125;);</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  render() &#123;</span></span><br><span class="line"><span class="regexp">    return (</span></span><br><span class="line"><span class="regexp">      &lt;ul className="list-group col-sm-4"&gt;</span></span><br><span class="line"><span class="regexp">        &#123;this.renderList()&#125;</span></span><br><span class="line"><span class="regexp">      &lt;/u</span>l&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapStateToProps</span>(<span class="params">state</span>) </span>&#123; </span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    books: state.books</span><br><span class="line">  &#125;;</span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapDispatchToProps</span>(<span class="params">dispatch</span>) </span>&#123; </span><br><span class="line">  <span class="keyword">return</span> bindActionCreators(&#123; <span class="attr">selectBook</span>: selectBook &#125;, dispatch);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps, mapDispatchToProps)(BookList);</span><br></pre></td></tr></table></figure><br>BookList组件中, 用户点击动作不只需要调用action creator, 还要确保action分发到所有reducer中, 使用redux库中的bindActionCreator方法和dispatch方法达到此目的. </p>
<h4 id="展示组件-component"><a href="#展示组件-component" class="headerlink" title="展示组件(component)"></a>展示组件(component)</h4><p>component是没有与redux store连结的组件, 也被叫做dumb component, 只负责呈现View, 不处理数据. 此例中是只负责渲染书籍列表和选中书籍的详细信息到页面中.</p>
<p><code>app.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> BookList <span class="keyword">from</span> <span class="string">'../containers/book-list'</span>;</span><br><span class="line"><span class="keyword">import</span> BookDetail <span class="keyword">from</span> <span class="string">'../containers/book-detail'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;BookList /&gt;</span><br><span class="line">        &lt;BookDetail /&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="wrapup"><a href="#wrapup" class="headerlink" title="wrapup"></a>wrapup</h3><p><code>src/index.js</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./components/app'</span>;</span><br><span class="line"><span class="keyword">import</span> reducers <span class="keyword">from</span> <span class="string">'./reducers'</span>;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Provider store=&#123;createStore(reducers)&#125;&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;<span class="regexp">/Provider&gt;</span></span><br><span class="line"><span class="regexp">  , document.querySelector('.container'));</span></span><br></pre></td></tr></table></figure></p>
<p>从react-redux引入了Provider, 将store作为属性传入Provider后, Provider接受来自store的更新并传递这些更新.</p>
<p>下面是该应用的完整逻辑介绍:</p>
<p><img src="/posts/images/book-review.jpg" alt="book-review"></p>
<p><a href="https://github.com/StephenGrider/ReduxCasts/tree/master/book_list" target="_blank" rel="noopener">项目完整代码</a></p>
<h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><h3 id="React与Redux的state"><a href="#React与Redux的state" class="headerlink" title="React与Redux的state"></a>React与Redux的state</h3><p>只使用react构建应用时, 也有一个state, 是component state(组件层面), 要注意与redux的application state(应用层面)进行区分, 在redux应用中, 两个类型的state都可以使用, 两者是完全分离, 互不影响的, 在app中使用redux state一般是将state转化为props再使用, 利用<code>this.props.something</code>, 而component state是<code>this.state.somthing</code>.</p>
<h3 id="Redux存储数据的方法与Angular-Backbone-Flux的区别"><a href="#Redux存储数据的方法与Angular-Backbone-Flux的区别" class="headerlink" title="Redux存储数据的方法与Angular, Backbone, Flux的区别"></a>Redux存储数据的方法与Angular, Backbone, Flux的区别</h3><ul>
<li><p>Redux将所有的数据只存储在一个object中, 这个object就是store.</p>
</li>
<li><p>许多其他库或框架将数据分为不同的集合存储, Backbone是存储在不同的collection中, flux则是存储在不同的store中. </p>
</li>
</ul>
<hr>
<p><strong>参考</strong></p>
<ul>
<li><a href="https://udemy.com/react-redux" target="_blank" rel="noopener">Modern React with Redux</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/posts/2017/04/17/redux-avoid-mutation/" class="prev">PREV</a><a href="/posts/2017/04/15/video-download-record/" class="next">NEXT</a></div><div class="copyright"><p>© 2019 - 2023 <a href="https://icyfish.github.io/posts">Fish</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>