---
title:  "å¸¸ç”¨æ•°ç»„æ–¹æ³•åŠå…¶åº”ç”¨"
date:   2016-12-29
permalink: array-methods
---

JavaScriptä¸­ä¸€äº›è¾ƒå¸¸ç”¨, èƒ½æé«˜æ•ˆç‡çš„æ•°ç»„æ–¹æ³•.

<!-- more -->


## forEach

**ç¤ºä¾‹:**

```js
const colors = ['red', 'green', 'blue'];

// ä¸ä½¿ç”¨forEach
// éå†æ•°ç»„

for(var i = 0; i < colors.length; i++){
  console.log(colors[i]);
}

// ä½¿ç”¨forEach

colors.forEach(color => {
  console.log(color);
});
```
![forEach](/posts/images/array-forEach.jpg)

åŸæ•°ç»„çš„å…ƒç´ è¢«éå†ä¼ å…¥Iterator Functionå¹¶æ‰§è¡Œ.

**æ›´å®é™…çš„åº”ç”¨:**

![forEach1](/posts/images/array-forEach1.jpg)

```js
const numbers = [1, 2, 3, 4];
let sum = 0;

numbers.forEach(number => {
  sum += number;
});

console.log(sum);
```

## map

**ç¤ºä¾‹:**

```js
const numbers = [1, 2, 3, 4];
// å°†åŸæ•°ç»„ä¸­å„ä¸ªå…ƒç´ X2è¾“å‡º

// ä¸ä½¿ç”¨mapå®ç°

let doubledNumbers = []; // åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„æ¥å­˜å‚¨æ•°æ®, ä¸ºäº†ä¸æ”¹å˜åŸæ•°ç»„ (avoid mutating)
for(var i = 0; i < numbers.length; i++){
  doubledNumbers.push(numbers[i] * 2)
}
console.log(doubledNumbers); // [2, 4, 6, 8]

// ä½¿ç”¨mapå®ç°

let doubledMap = numbers.map(number => number * 2)
console.log(doubledMap); // [2, 4, 6, 8]
```
![map](/posts/images/array-map.jpg)

åŸæ•°ç»„çš„å…ƒç´ è¢«éå†ä¼ å…¥Iterator Functionå¹¶æ‰§è¡Œ, æ‰§è¡Œåçš„ç»“æœè¢«è¿”å›å¹¶å­˜å…¥æ–°æ•°ç»„.

mapå¯ä»¥ç”¨äºæ±‡æ€»æ•°ç»„å†…å„ä¸ªå…ƒç´ çš„å±æ€§å€¼, å¹¶è¾“å‡ºç›¸å…³ä¿¡æ¯. ä¾‹å­:

```js
const cars = [
  {model: 'Buick', price: 'cheap'},
  {model: 'Camaro', price: 'expensive'}
];

const model = cars.map(car => {
  return car.model;
});
console.log(model); // ['Buick', 'Camaro']

const price = cars.map(car => {
  return car.price;
});
console.log(price); // ['cheap', 'expensive']
```

æ¸²æŸ“æ•°æ®åˆ—è¡¨:

å¯åœ¨æµè§ˆå™¨æ§åˆ¶å°è¾“å…¥ä»¥ä¸‹ä»£ç ç‰‡æ®µæŸ¥çœ‹æ•ˆæœ

```js
const cars = [
  {model: 'Buick', price: 'cheap'},
  {model: 'Camaro', price: 'expensive'}
];  
const carsList = document.createElement('ul');

 const aboutCars = cars.map(car => {
   return `<li>${car.model} is ${car.price}</li>`;
 });

aboutCars.forEach(car => {
  carsList.innerHTML += car;
})
document.body.innerHTML = '';
document.body.appendChild(carsList);
```

**æ›´å®é™…çš„åº”ç”¨:**

![map-practical](/posts/images/array-map-practical.jpg)


## filter

**ç¤ºä¾‹:**

```js
const products = [
  { name: 'cucumber', type: 'vegetable', quantity: 10, price: 1 },
  { name: 'banana', type: 'fruit', quantity: 8, price: 15 },
  { name: 'cucumber', type: 'vegetable', quantity: 25, price: 12 },
  { name: 'orange', type: 'fruit', quantity: 30, price: 8 },
]

// ä¸ä½¿ç”¨filterå®ç°
// ç­›é€‰å‡ºç±»å‹ä¸ºæ°´æœçš„äº§å“

let filteredProducts = [];
for(var i = 0; i < products.length; i++){
  if(products[i].type === 'fruit'){
    filteredProducts.push(products[i])
  }
}
console.table(filteredProducts);

// ä½¿ç”¨filterå®ç°
// ç­›é€‰å‡ºç±»å‹ä¸ºæ°´æœçš„äº§å“

const fruit = products.filter(product => product.type === 'fruit');
console.table(fruit);

// ç­›é€‰å‡ºç±»å‹ä¸ºè”¬èœ, ä¸”æ•°é‡å¤§äº0, ä¸”ä»·æ ¼å°äº10çš„äº§å“

const veg = products.filter(product => product.type === 'vegetable' && product.quantity > 0 && product.price < 10);
console.table(veg);
```

`console.table`å°†æ•°ç»„ä»¥è¡¨æ ¼çš„å½¢å¼æ˜¾ç¤ºåœ¨æ§åˆ¶å°ä¸­, å¯è¯»æ€§æ›´å¼º.

![filter](/posts/images/array-filter.jpg)

åŸæ•°ç»„çš„å…ƒç´ è¢«éå†ä¼ å…¥Iterator Function, Iterator Functionè¿”å›å€¼çš„ç±»å‹ä¸ºå¸ƒå°”å€¼, å¦‚æœè¿”å›true, åˆ™è¯¥å…ƒç´ è¢«å­˜å…¥ç»“æœæ•°ç»„.

**æ›´å®é™…çš„åº”ç”¨:**

ç­›é€‰å‡ºæŒ‡å®špostçš„commentå†…å®¹:

![filter-practical](/posts/images/array-filter-practical.jpg)

```js
const post = { id: 4, title: 'New Post'};

const comments = [
  { postId: 4, content: 'Awesome Post'},
  { postId: 3, content: 'It was ok'},
  { postId: 4, content: 'neat'}
];

function commentsForPost(post, comments){
  return comments.filter(comment => comment.postId === post.id);
}

const filteredComments = commentsForPost(post, comments);
console.table(filteredComments);

```

åœ¨Todo Appä¸­:

æœªå®Œæˆçš„todoä¼šä¸€ç›´æ˜¾ç¤º, å®Œæˆçš„todoåªæœ‰åœ¨showCompletedä¸ºtrueæ—¶æ‰æ˜¾ç¤º
```js
const filteredTodos = filteredTodos.filter((todo) => {
  return !todo.completed || showCompleted;
});
```

Ps: é€»è¾‘æ“ä½œç¬¦ `||`("æˆ–")

`expr1 || expr2`, å¦‚æœè¡¨è¾¾å¼ç»“æœä¸ºtrue, åˆ™è¿”å›expr1, falseåˆ™è¿”å›expr1, å› æ­¤å½“å‚æ•°ä¸ºå¸ƒå°”å€¼æ—¶, ä»»æ„ä¸€ä¸ªå‚æ•°ä¸ºtrue, `expr1 || expr2`è¿”å›çš„ç»“æœå°±ä¸ºtrue.


## find and findIndex

**ç¤ºä¾‹:**

```js
const users = [
  {name: 'Jill'},
  {name: 'Bill'},
  {name: 'Alex'}
];

let user;

// å¯»æ‰¾åä¸ºAlexçš„user

// ä¸ä½¿ç”¨ find

for(var i = 0; i < users.length; i++){
  if (users[i].name === 'Alex'){
    user = users[i];
    break;
  }
}
console.log(user); // {name: 'Alex'}

// ä½¿ç”¨ find

const findUser = users.find(user => user.name === 'Alex');
console.log(findUser); // {name: 'Alex'}
```

![find](/posts/images/array-find.jpg)

åŸæ•°ç»„çš„å…ƒç´ è¢«æŒ‰é¡ºåºè¢«ä¼ å…¥Iterator Function, Iterator Functionè¿”å›å€¼çš„ç±»å‹ä¸ºå¸ƒå°”å€¼, å½“Iterator Functionè¿”å›trueæ—¶, åœæ­¢è°ƒç”¨Iterator Function, å¹¶è¿”å›åœæ­¢å‰æœ€åä¸€ä¸ªIterator Functionæ‰§è¡Œçš„ç»“æœ.

å¦‚æœæœ‰ä¸¤ä¸ªç›¸åŒçš„å…ƒç´ ç¬¦åˆè¦æ±‚, åªæœ‰ç¬¬ä¸€ä¸ªä¼šè¢«è¿”å›.


```js
function Car(model){
  this.model = model;
}

const cars = [
  new Car('Buick'),
  new Car('Camaro'),
  new Car('Focus')
];

const focusCar =  cars.find(car => car.model === 'Focus')
console.log(focusCar); // {model: "Focus"}
```

**æ›´å®é™…çš„åº”ç”¨:**

åˆ©ç”¨findå¯»æ‰¾ç‰¹å®šidå€¼çš„post:

![find-practical1](/posts/images/array-find-practical1.jpg)

![find-practical2](/posts/images/array-find-practical2.jpg)

```js
const posts = [
  { id: 1, title: 'New Post'},
  { id: 2, title: 'Old Post'}
]
const comment = { postId: 1, content: 'Awesome Post'};

function postForComment(posts, comment){
  return posts.find(post => post.id === comment.postId)
}

postForComment(posts, comment);
// { id: 1, title: 'New Post'}
```

åˆ é™¤ç‰¹å®šè¯„è®º:

```js
const comments = [
  { text: 'Love this!', id: 523423 },
  { text: 'Super good', id: 823423 },
  { text: 'You are the best', id: 2039842 },
  { text: 'Ramen is my fav food ever', id: 123523 },
  { text: 'Nice Nice Nice!', id: 542328 }
];
const comment = comments.find(comment => comment.id === 823423);
console.log(comment);

// åˆ©ç”¨findIndexæ‰¾åˆ°å…·æœ‰æŸä¸ªç‰¹å®šidçš„è¯„è®ºçš„ç´¢å¼•å€¼
const commentIndex = comments.findIndex(comment => comment.id === 823423);
console.log(commentIndex); // 1

// æ ¹æ®ç´¢å¼•å€¼åˆ é™¤è¯¥æ¡è¯„è®º, æœ‰ä¸¤ç§æ–¹æ³•

// 1. ä½†ä¼šæ”¹å˜(mutate)åŸå…ˆçš„comments, ä¸å¥½

// comments.splice(index, 1);

// 2. æ–°å»ºä¸€ä¸ªæ•°ç»„æ¥ä¿å­˜ä¿®æ”¹åçš„comments, (immutable) ğŸ‘
const newComments = [
  ...comments.slice(0, commentIndex),
  ...comments.slice(commentIndex + 1)
];


console.table(comments);
console.table(newComments);
```


## every and some

**ç¤ºä¾‹:**

```js
const computers = [
  {name: 'Apple', ram: 24},
  {name: 'Compaq', ram: 4},
  {name: 'Acer', ram: 32}
];

// å¯»æ‰¾æ‰€æœ‰èƒ½è¿è¡Œç‰¹å®šç¨‹åºçš„ç”µè„‘
// å¯»æ‰¾èƒ½è¿è¡Œç‰¹å®šç¨‹åºçš„æŸå°ç”µè„‘
// ä¸ä½¿ç”¨ every & some

let allComputersCanRunProgram = true;
let onlySomeComputersCanRunProgram = false;

for(let i = 0; i < computers.length; i++){
  let computer = computers[i];

  if(computer.ram < 16) {
    allComputersCanRunProgram = false;
  } else {
    onlySomeComputersCanRunProgram = true;
  }
}
console.log(allComputersCanRunProgram); // false
console.log(onlySomeComputersCanRunProgram); //true

// ä½¿ç”¨ every & some

const allComputers = computers.every(computer => computer.ram > 16);
console.log(allComputers); // false
const onlySomeComputers = computers.some(computer => computer.ram > 16);
console.log(onlySomeComputers); //true
```

*every:*

![every](/posts/images/array-every.jpg)

1. æ•°ç»„å…ƒç´ è¢«éå†ä¼ å…¥Iterator Function, Iterator Functionè¿”å›å¸ƒå°”å€¼.
2. è¿”å›å¸ƒå°”å€¼å, ä¼šæ£€è§†æ‰€æœ‰å€¼å¹¶é€šè¿‡é€»è¾‘æ“ä½œç¬¦`&&`(ä¸)å¯¹æœ€åç»“æœè¿›è¡Œåˆ¤æ–­.
3. å¦‚æœæ¯ä¸€ä¸ªå‡½æ•°æ‰€è¿”å›çš„å¸ƒå°”å€¼æ˜¯true, é‚£ä¹ˆæœ€åç»“æœå°±ä¸ºtrue, æœ‰ä¸€ä¸ªä¸ºfalse, æœ€åç»“æœå°±ä¸ºfalse.

*some:*

![some](/posts/images/array-some.jpg)

someä¸everyå¾ˆç›¸ä¼¼:

1. æ•°ç»„å…ƒç´ è¢«éå†ä¼ å…¥Iterator Function, Iterator Functionè¿”å›å¸ƒå°”å€¼.
2. è¿”å›å¸ƒå°”å€¼å, ä¼šæ£€è§†æ‰€æœ‰å€¼å¹¶é€šè¿‡é€»è¾‘æ“ä½œç¬¦`||`(æˆ–)å¯¹æœ€åç»“æœè¿›è¡Œåˆ¤æ–­.
3. å¦‚æœæ¯ä¸€ä¸ªå‡½æ•°æ‰€è¿”å›çš„å¸ƒå°”å€¼ä¸­æœ‰ä¸€ä¸ªä¸ºtrue, é‚£ä¹ˆæœ€åç»“æœå°±ä¸ºtrue, å…¨éƒ¨ä¸ºfalse, æœ€ååˆ™æ˜¯false.

```js
const people = [
  { name: 'Wes', year: 1988 },
  { name: 'Kait', year: 1986 },
  { name: 'Irv', year: 1970 },
  { name: 'Lux', year: 2015 }
];

// æ˜¯å¦æœ‰å¤§äº19å²çš„äºº
const isAdult = people.some(person => ((new Date()).getFullYear()) - person.year >= 19);

console.log(isAdult);
console.log({isAdult}); // å¯¹è±¡è¾“å‡ºæ—¶åŠ ä¸Š{}å¯è¯»æ€§æ›´å¼º


// æ˜¯å¦æ‰€æœ‰äººéƒ½å¤§äº19å²
const allAdult = people.every(person => ((new Date()).getFullYear()) - person.year >= 19);

console.log({allAdult});
```


**æ›´å®é™…çš„åº”ç”¨:**

```js
function Field(value){
  this.value = value;
}

Field.prototype.validate = function(){
  return this.value.length > 0;
}

let username = new Field('2cool');
let password = new Field('my_password');
let birthdate = new Field('10/10/2010');

// no every & some
username.validate() && password.validate() && birthdate.validate()

// every

let fields = [username, password, birthdate];

let formIsValid = fields.every(field => field.validate())

if(formIsValid) {
  // allow user to submit
}else{
  // show an error message
}
```

## sort

```js
function compareFunction(a, b){
  // return -1, aå‡ºç°åœ¨bä¹‹å‰
  // return 1,  aå‡ºç°åœ¨bä¹‹å
  // return 0, é¡ºåºä¸å˜
}
arr.sort(compareFunction);
```

**ç¤ºä¾‹:**

```js
var numbers = [4, 20, 5, 1, 3];
numbers.sort(function(a, b) {
  return a - b;
});
console.log(numbers); // [1, 3, 4, 5, 20]
```
å¦‚æœæ²¡æœ‰comparisonFunction, å…ˆå°†æ•°åˆ—ä¸­çš„å†…å®¹è½¬åŒ–æˆå­—ç¬¦ä¸²å†æ ¹æ®Unicodeé¡ºåºæ’åº.

```js
var scores = [1, 10, 21, 2];
scores.sort();
console.log(scores); // [1, 10, 2, 21]
// 10åœ¨ 2ä¹‹å‰,
// å› ä¸ºåœ¨Unicodeç ä¸­'10'åœ¨'2'ä¹‹å‰
```

```js
const inventors = [
  { first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 },
  { first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 },
  { first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 },
  { first: 'Marie', last: 'Curie', year: 1867, passed: 1934 },
  { first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 },
  { first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 }
];

// ç”Ÿè¾°ä»æ—©åˆ°æ™š

inventors.sort((a, b) => a.year - b.year ? 1 : -1);

console.table(inventors);

// æ´»å¾—é•¿çš„å‘æ˜å®¶æ’åœ¨å

inventors.sort((a, b) => {
  return (a.passed - a.year) - (b.passed - b.year);
});

console.table(inventors);
```

**å¯¹æ•°ç»„ä»¥å…ƒç´ å­—æ¯é¡ºåºè¿›è¡Œæ’åº**

```js
const people = ['Beck, Glenn', 'Becker, Carl', 'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry', 'Billings, Josh', 'Biondo, Frank', 'Birrell, Augustine', 'Black, Elk', 'Blair, Robert', 'Blair, Tony', 'Blake, William']

const alpha = people.sort((lastOne, nextOne) => {
  const [aLast, aFirst] = lastOne.split(', ');
  const [bLast, bFirst] = nextOne.split(', ');
  return aLast > bLast ? 1 : -1;
})

console.log(alpha);
```

```js
// å¯¹å„ä¸ªbandæŒ‰å­—æ¯é¡ºåºæ’åº, éœ€è¦å¿½ç•¥åå­—å¼€å¤´çš„å† è¯å†è¿›è¡Œæ’åº

const bands = ['The Plot in You', 'The Devil Wears Prada', 'Pierce the Veil', 'Norma Jean', 'The Bled', 'Say Anything', 'The Midway State', 'We Came as Romans', 'Counterparts', 'Oh, Sleeper', 'A Skylit Drive', 'Anywhere But Here', 'An Old Dog'];

function strip(bandName) {
  return bandName.replace(/^(a |the |an )/i, '').trim();
};

const sortedBands = bands.sort((a,b) => strip(a) > strip(b) ? 1 : -1);
console.log(sortedBands);
```

Todo Appä¸­, æœªå®Œæˆçš„Todoæ˜¾ç¤ºåœ¨å·²å®Œæˆçš„ä¹‹å‰:

```js
let sortedTodos;

sortedTodos.sort((a, b) => {
  if(!a.completed && b.completed){
   return -1;
  }else if (a.completed && !b.completed) {
   return 1;
  }else{
   return 0;
  }
})
```

Ps: é€»è¾‘æ“ä½œç¬¦ `&&`("ä¸")

`expr1 && expr2`, å¦‚æœè¡¨è¾¾å¼ç»“æœä¸ºfalse, åˆ™è¿”å›expr1, å¦åˆ™è¿”å›expr2, å› æ­¤å½“å‚æ•°ä¸ºå¸ƒå°”å€¼æ—¶, è‹¥å‚æ•°å‡ä¸ºtrue, åˆ™ç»“æœè¿”å›true, å¦åˆ™è¿”å›false.


## reduce


**ç¤ºä¾‹:**

```js
const numbers = [10,20,30];
let sum = 0;

// ä¸ä½¿ç”¨ reduce
// è®¡ç®—numbersæ•°ç»„ä¸­æ‰€æœ‰å€¼çš„å’Œ

for(var i = 0; i < numbers.length; i++){
  sum += numbers[i];
}

console.log(sum); //60

//ä½¿ç”¨ reduce

const reduceSum = numbers.reduce((sum, number)=>{
  return sum + number;
}, 0);

console.log(reduceSum); //60
```

![reduce](/posts/images/array-reduce.jpg)

ä¼ å…¥reduceçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯åˆå§‹å€¼(initial value), ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Iterator Function, Iterator Functionæ¥å—ä¸¤ä¸ªå‚æ•°, ç¬¬ä¸€æ¬¡æ‰§è¡Œæ¥å—åˆå§‹å€¼å’ŒåŸæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºå‚æ•°, æ‰§è¡Œç»“æŸåè¿”å›çš„å€¼ä½œä¸ºIterator Functionçš„ç¬¬ä¸€ä¸ªå‚æ•°, åŸæ•°ç»„ä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°, ä»¥æ­¤ç±»æ¨.

reduceåŠŸèƒ½å¼ºå¤§, å¯ä»¥ä½¿ç”¨reduceå®ç°ä»¥ä¸Šæ‰€æœ‰æ•°ç»„æ–¹æ³•çš„åŠŸèƒ½.

**reduceå®ç°mapçš„åŠŸèƒ½:**

```js
let primaryColors = [
  {color: 'red'},
  {color: 'yellow'},
  {color: 'blue'},
];
const reducedColor = primaryColors.reduce((accumulator, primaryColor)=>{
  accumulator.push(primaryColor.color);
  return accumulator;
}, []);

console.log(reducedColor); // ["red", "yellow", "blue"]

// è‹¥ä½¿ç”¨map, åˆ™æ˜¯:

const mappedColor = primaryColors.map(primaryColor => primaryColor.color);
console.log(mappedColor); // ["red", "yellow", "blue"]
```

**è®¡ç®—orderæ€»é‡**:

```js
const orders = [
	{ amount: 250 },
	{ amount: 200 },
	{ amount: 340 },
	{ amount: 100 }
]

let totalAmount = orders.reduce((sum, order) => {
	return sum + order.amount
}, 0);

console.log(totalAmount);
```

**è®¡ç®—å„ä¸ªäº¤é€šå·¥å…·çš„ä¸ªæ•°**

```js
const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck'];

const transportation = data.reduce((obj, item) => {
  if (!obj[item]) {
    obj[item] = 0;
  }
  obj[item]++;
  return obj;
}, {});

console.log(transportation);
//{car: 5, truck: 3, bike: 2, walk: 2, van: 2}
```

**æ£€æŸ¥æ‹¬å·æ˜¯å¦å¯¹ç§°**

(å¿…é¡»æ˜¯ä¸€å¯¹æ‹¬å·ä¸”å·¦æ‹¬å·åœ¨å‰) [balanced parentheses]:

```js
function balancedParens(string){
  return !string.split('').reduce(function (counter, char){
    if (counter < 0) {return counter;}
    if (char === "(") {return ++counter;}
    if (char === ")") {return --counter;}
    return counter;
  },0);
}

balancedParens("((())))"); // false
balancedParens("))((()"); // false
balancedParens("(((())))"); // true
balancedParens("()()()()"); // true
balancedParens('()()()skoaksod'); //true
```

1. `string.split('')`: å› ä¸ºreduceåªèƒ½åœ¨æ•°ç»„ä¸­ä½¿ç”¨, æ‰€ä»¥å…ˆå°†å‚æ•°çš„ç±»å‹ä»stringè½¬åŒ–ä¸ºarray;
2. å°†åˆå§‹å€¼è®¾ä¸º0, è‹¥æ•°ç»„ä¸­å‡ºç°`(`, è®¡æ•°å™¨(counter)+1, å‡ºç°`)`è®¡æ•°å™¨å‡1, åªæœ‰å½“è®¡æ•°å™¨æœ€åç»“æœä¸º0æ—¶è¿”å›true;
3. `!`ä¼šå°†ç»“æœå¼ºåˆ¶è½¬æ¢(coercion)ä¸ºå¸ƒå°”å€¼;
4. `if (counter < 0) {return counter;}`: å¦‚æœè®¡æ•°å™¨å€¼ä¸ºè´Ÿ, ç›´æ¥è¿”å›, æœ€åç»“æœå°±ä¸ºfalse, å› ä¸ºå·¦æ‹¬å·å¿…é¡»åœ¨å³æ‹¬å·ä¹‹å‰.

**è®¡ç®—ä¸‹ä¾‹ä¸­è§†é¢‘æ—¶é—´æ€»å’Œ**

```html
<ul class="videos">
    <li data-time="5:43">Video 1</li>
    <li data-time="2:33">Video 2</li>
    <li data-time="3:45">Video 3</li>
    <li data-time="0:47">Video 4</li>
    <li data-time="5:21">Video 5</li>
    <li data-time="6:56">Video 6</li>
    <li data-time="3:46">Video 7</li>
    <li data-time="5:25">Video 8</li>
    <li data-time="3:14">Video 9</li>
    <li data-time="3:31">Video 10</li>
</ul>
```
```js
const timeNodes = [...document.querySelectorAll('[data-time]')];

// ç¬¬ä¸€ç§æ–¹æ³•:
//
//
const seconds = timeNodes
    .map(node => node.dataset.time) // æå–æ ‡ç­¾ä¸º'data-time'çš„å±æ€§å€¼, å¹¶æ”¾å…¥æ•°ç»„ä¸­
    .map(timeCode => {
      const [mins, secs] = timeCode.split(':').map(parseFloat); // ç›¸å½“äº.map(str => parseFloat(str))
      return (mins * 60) + secs;
    })
    .reduce((total, vidSeconds) => total + vidSeconds);


// ç¬¬äºŒç§æ–¹æ³•:
//
//    
// const times = [];
// timeNodes.map(video => {
//   times.push(video.dataset.time.split(':').map(parseFloat));
// });
//
// const seconds = times.reduce((sum,time) =>  sum += (time[0] * 60 + time[1]), 0);


let secondsLeft = seconds;
const hours = Math.floor(secondsLeft / 3600);
secondsLeft = secondsLeft % 3600;

const mins = Math.floor(secondsLeft / 60);
secondsLeft = secondsLeft % 60;

console.log(hours, mins, secondsLeft);
```

---
**å‚è€ƒ**

- [JavaScript30](https://javascript30.com/)
- [ES6 Javascript](https://www.udemy.com/javascript-es6-tutorial/)
